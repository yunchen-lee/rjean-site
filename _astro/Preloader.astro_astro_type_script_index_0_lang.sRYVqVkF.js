function x(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var p={exports:{}},g={exports:{}},q=g.exports,v;function w(){return v||(v=1,(function(n){(function(l,h){n.exports?n.exports=h():l.EvEmitter=h()})(typeof window<"u"?window:q,function(){function l(){}let h=l.prototype;return h.on=function(a,o){if(!a||!o)return this;let i=this._events=this._events||{},c=i[a]=i[a]||[];return c.includes(o)||c.push(o),this},h.once=function(a,o){if(!a||!o)return this;this.on(a,o);let i=this._onceEvents=this._onceEvents||{},c=i[a]=i[a]||{};return c[o]=!0,this},h.off=function(a,o){let i=this._events&&this._events[a];if(!i||!i.length)return this;let c=i.indexOf(o);return c!=-1&&i.splice(c,1),this},h.emitEvent=function(a,o){let i=this._events&&this._events[a];if(!i||!i.length)return this;i=i.slice(0),o=o||[];let c=this._onceEvents&&this._onceEvents[a];for(let r of i)c&&c[r]&&(this.off(a,r),delete c[r]),r.apply(this,o);return this},h.allOff=function(){return delete this._events,delete this._onceEvents,this},l})})(g)),g.exports}/*!
 * imagesLoaded v5.0.0
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */var C=p.exports,I;function A(){return I||(I=1,(function(n){(function(l,h){n.exports?n.exports=h(l,w()):l.imagesLoaded=h(l,l.EvEmitter)})(typeof window<"u"?window:C,function(h,a){let o=h.jQuery,i=h.console;function c(e){return Array.isArray(e)?e:typeof e=="object"&&typeof e.length=="number"?[...e]:[e]}function r(e,t,s){if(!(this instanceof r))return new r(e,t,s);let d=e;if(typeof e=="string"&&(d=document.querySelectorAll(e)),!d){i.error(`Bad element for imagesLoaded ${d||e}`);return}this.elements=c(d),this.options={},typeof t=="function"?s=t:Object.assign(this.options,t),s&&this.on("always",s),this.getImages(),o&&(this.jqDeferred=new o.Deferred),setTimeout(this.check.bind(this))}r.prototype=Object.create(a.prototype),r.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)};const y=[1,9,11];r.prototype.addElementImages=function(e){e.nodeName==="IMG"&&this.addImage(e),this.options.background===!0&&this.addElementBackgroundImages(e);let{nodeType:t}=e;if(!t||!y.includes(t))return;let s=e.querySelectorAll("img");for(let d of s)this.addImage(d);if(typeof this.options.background=="string"){let d=e.querySelectorAll(this.options.background);for(let b of d)this.addElementBackgroundImages(b)}};const E=/url\((['"])?(.*?)\1\)/gi;r.prototype.addElementBackgroundImages=function(e){let t=getComputedStyle(e);if(!t)return;let s=E.exec(t.backgroundImage);for(;s!==null;){let d=s&&s[2];d&&this.addBackground(d,e),s=E.exec(t.backgroundImage)}},r.prototype.addImage=function(e){let t=new u(e);this.images.push(t)},r.prototype.addBackground=function(e,t){let s=new m(e,t);this.images.push(s)},r.prototype.check=function(){if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length){this.complete();return}let e=(t,s,d)=>{setTimeout(()=>{this.progress(t,s,d)})};this.images.forEach(function(t){t.once("progress",e),t.check()})},r.prototype.progress=function(e,t,s){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount===this.images.length&&this.complete(),this.options.debug&&i&&i.log(`progress: ${s}`,e,t)},r.prototype.complete=function(){let e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){let t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}};function u(e){this.img=e}u.prototype=Object.create(a.prototype),u.prototype.check=function(){if(this.getIsImageComplete()){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}this.proxyImage=new Image,this.img.crossOrigin&&(this.proxyImage.crossOrigin=this.img.crossOrigin),this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.currentSrc||this.img.src},u.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},u.prototype.confirm=function(e,t){this.isLoaded=e;let{parentNode:s}=this.img,d=s.nodeName==="PICTURE"?s:this.img;this.emitEvent("progress",[this,d,t])},u.prototype.handleEvent=function(e){let t="on"+e.type;this[t]&&this[t](e)},u.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},u.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},u.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)};function m(e,t){this.url=e,this.element=t,this.img=new Image}return m.prototype=Object.create(u.prototype),m.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(this.img.naturalWidth!==0,"naturalWidth"),this.unbindEvents())},m.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},m.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},r.makeJQueryPlugin=function(e){e=e||h.jQuery,e&&(o=e,o.fn.imagesLoaded=function(t,s){return new r(this,t,s).jqDeferred.promise(o(this))})},r.makeJQueryPlugin(),r})})(p)),p.exports}var _=A();const O=x(_);let f;const B=()=>{f=document.querySelector(".loading")},S=()=>new Promise((n,l)=>{const h=document.querySelectorAll("img"),a=[...document.querySelectorAll("*")].filter(c=>window.getComputedStyle(c).backgroundImage!=="none"),o=[...h,...a],i=O(o,{background:!0});i.on("done",n),i.on("fail",()=>{l(new Error("Failed to load some images or assets"))})}),j=async()=>{try{await S();const n=new CustomEvent("assetsLoaded");document.dispatchEvent(n)}catch(n){throw console.error("Failed to load assets:",n),n}},D=async()=>{if(sessionStorage.getItem("preloadComplete")==="true"){L();return}P();try{await j(),sessionStorage.setItem("preloadComplete","true"),L()}catch(n){console.error("Failed to load assets or animate:",n)}},P=()=>{f.classList.remove("hidden")},L=()=>{f.classList.add("hidden")},T=()=>{f=null},W=()=>{B(),D()},k=(n,l)=>{document.documentElement.getAttribute("data-page")==="home"&&l()};document.addEventListener("astro:page-load",()=>{k("page-load",W)});document.addEventListener("astro:before-swap",()=>{k("before-swap",T)});window.addEventListener("beforeunload",()=>{sessionStorage.removeItem("preloadComplete")});
